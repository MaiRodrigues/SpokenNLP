#ENCONTRA ARQUIVOS NAO TRADUZIDOS
import re
import os

input_folder = '/content/drive/MyDrive/project_folder/en_disease_val/text' 


# palavras em ingles comuns
english_words = {
    "the", "is", "to", "of", "and", "in", "that", "have",
    "it", "not", "on", "with", "he", "you", "at",
    "this", "but", "his", "by", "from", "they", "we", "say", "her",
    "she", "or", "an", "will", "my", "one", "all", "would", "there",
    "their", "what", "so", "out", "if", "about", "who", "get",
    "which", "go",
}

matching_files = []
total_files = 0

# faz a leitura dos arquivos
for file_name in os.listdir(input_folder):
    if file_name.endswith('.txt'):
        total_files += 1
        input_file_path = os.path.join(input_folder, file_name)

        with open(input_file_path, 'r') as file:
            file_contents = file.read()

        matched_words = [word for word in english_words if re.search(r'\b{}\b'.format(re.escape(word)), file_contents)] # loop pra procurar pelas palavras da lista  no diretorio

        if len(matched_words) > 10: # filtra apenas os arquivos onde a quantidade de palaras encontradas e maior que 10
            print(f"Palavras encontradas em {file_name}: {', '.join(matched_words)}")
            matching_files.append(file_name)

print("Numero total de arquivos:", total_files)
print("Numero total de arquivos em inglês:", len(matching_files))

#REMOVE ARQUIVOS EM INGLES DAS 3 PASTAS
input_folder = '/content/drive/MyDrive/project_folder/en_disease_val'
matching_files = matching_files

removed_files = []

# deleta os arquivos nao traduzidos encontrados nas 3 pastas do dataset
def delete_files_from_all_folders(file_name):
    for folder_name in ['text', 'label1', 'label2']:
        folder_path = os.path.join(input_folder, folder_name)
        file_path = os.path.join(folder_path, file_name)
        if os.path.exists(file_path):
            os.remove(file_path)
            removed_files.append(file_name)
            print(f"Deletados {file_name} from {folder_name}")

for file_name in matching_files:
    delete_files_from_all_folders(file_name)

print("\nArquvios excluidos:")
for file_name in removed_files:
    print(file_name)
print(f"Total de arquivos excluídos: {len(removed_files)}")
